import{o as b,q as o,u as l,v as d,S as _,w as g,x as p,y as f,z as v,A as y,B as S}from"./CUh3aHkV.js";import{s as T,g as q}from"./Bwg8BZCB.js";function c(s,r){return s===r||s?.[_]===r}function A(s={},r,i,u){return b(()=>{var n,e;return o(()=>{n=e,e=[],l(()=>{s!==i(...e)&&(r(s,...e),n&&c(i(...n),s)&&r(null,...n))})}),()=>{d(()=>{e&&c(i(...e),s)&&r(null,...e)})}}),s}let t=!1,a=Symbol();function B(s,r,i){const u=i[r]??={store:null,source:v(void 0),unsubscribe:f};if(u.store!==s&&!(a in i))if(u.unsubscribe(),u.store=s??null,s==null)u.source.v=void 0,u.unsubscribe=f;else{var n=!0;u.unsubscribe=T(s,e=>{n?u.source.v=e:S(u.source,e)}),n=!1}return s&&a in i?q(s):y(u.source)}function E(){const s={};function r(){g(()=>{for(var i in s)s[i].unsubscribe();p(s,a,{enumerable:!1,value:!0})})}return[s,r]}function M(s){var r=t;try{return t=!1,[s(),t]}finally{t=r}}export{B as a,A as b,M as c,E as s};
